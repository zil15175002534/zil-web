<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>轮播图</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="css/basic.css" rel="stylesheet" type="text/css">
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <style type="text/css">

        .main {
            width: 1200px;
            height: 460px;
            margin: 0 auto;
            overflow: hidden;
            position: relative;
            top: 100px;
        }

        .banner {
            width: 1200px;
            height: 460px;
        }

        .banner-slide {
            width: 1200px;
            height: 460px;
            background-repeat: no-repeat;
            background-size: 100% ;
            position: absolute;
            display: none;
        }

        .select-active {
            display: block;
        }

        .slide1 {
            background-image: url(images/loading/1.jpg);
        }

        .slide2 {
            background-image: url(images/loading/2.jpg);
        }

        .slide3 {
            background-image: url(images/loading/3.jpg);
        }


        #dots {
            position: absolute;
            height: 10px;
            bottom: 30px;
            right: 100px;
        }

        #dots span {
            display: block;
            height: 8px;
            width: 8px;
            border: 1px solid #ffffff;
            border-radius: 50%;
            margin:  0 10px;
            float: left;
            cursor: pointer;
        }

        #dots .active {
            background: #dadada;
            box-shadow: 0 0 20px #ffffff;
        }


        .btn {
            position: absolute;
            display: inline-block;
            height: 30px;
            background-color: rgba( 0 , 0 , 0 , 0.7);
            color: #ffffff;
            top: 215px;
            text-align: center;
            line-height: 30px;
            padding: 0 5px;
        }

        .prev {
            display: none;
            left: 245px;
        }

        .next {
            display: none;
            right: 2px;
        }

        .menu {
            width: 244px;
            position: absolute;
            top: 0;
            left: 0;
        }

        .menu-box {
            height: 460px;
            z-index: 1;
            background: rgba( 7 , 17 ,27 ,0.7);
            opacity: 0.5;
        }

        .menu-content {
            height: 454px;
            z-index: 2;
            padding: 6px 0 0 0 ;
        }

        .menu-item {
            height: 64px;
            line-height: 64px;
            font-size: 16px;
            padding: 0 24px;
        }

        .menu-item a:link ,
        .menu-item a:visited {
            color: #ffffff;
        }

        .menu-item a {
            display: block;
            height: 61px;
            border-bottom: 1px solid rgba(255 , 255 , 255, 0.2);
            padding: 0 8px;
            position: relative;
        }

        .menu-item a i {
            position: absolute;
            right: 3px;
            font-family: 'FontAwesome';
            top:22px;
            font-style: normal;
            font-weight: normal;
            color: rgba(255 , 255 , 255 , 0.5);
        }

        .sub-menu {
            height: 458px;
            width: 730px;
            border: 1px solid #ccc;
            background: rgba(255,255,255,0.7);
            position: absolute;
            left: 244px;
            top: 0;
            z-index: 2;
            box-shadow: 0 3px 20px 0 rgba(0,0,0,0.2);
        }

        .inner-box {
            height: 100%;
            width: 100%;
            display: none;
        }

        .sub-inner-box {
            width: 652px;
            margin-left: 40px;
            overflow: hidden;
        }

        .title {
            margin: 20px 0 ;
            color: #ac2925;
        }

        .menu-row {
            position: relative;
        }

        .menu-row dl {
            position: relative;
            padding: 6px 0 ;
        }

        .menu-row dl dt {
            position: absolute;
            width: 80px;
            overflow: hidden;
            font-size: 14px;
            font-weight: bold;
        }

        .menu-row dl dd {
           padding: 0 0 0 80px;
           position:relative;
        }

        .menu-row dl dd a {
            padding: 0 8px;
            position:relative;
            letter-spacing: 1px;
            display: inline-block;
            cursor: pointer;
        }

        .menu-row dl dd a:hover {
            color: #ac2925;
        }

        .menu-row dl dd a::after {
            position: absolute;
            content: "";
            top:0;
            right: 0;
            width: 1px;
            height: 14px;
            background: #000000;
        }

        .menu-row dl dd a:last-child::after {
            content: "";
            background:rgba( 255 , 255, 255, 0);
        }

        .none {
            display: none;
        }


    </style>
</head>
<body>

    <div class="main"  id="main">

        <div class="menu menu-box"></div>

        <div class="sub-menu none" id="sub-menu">

            <div class="inner-box">
                <div class="sub-inner-box ">
                    <h2 class="title">手机配件1</h2>
                    <div class="menu-row">
                        <dl class="menu-dl">
                            <dt>手机配件：</dt>
                            <dd>这想法水电费</dd>
                        </dl>
                        <dl class="menu-dl">
                            <dt>手机维修：</dt>
                            <dd><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a></dd>
                        </dl>
                    </div>
                </div>
            </div>

            <div class="inner-box">
                <div class="sub-inner-box ">
                    <h2 class="title">手机配件2</h2>
                    <div class="menu-row">
                        <dl class="menu-dl">
                            <dt>手机配件：</dt>
                            <dd>这想法水电费</dd>
                        </dl>
                        <dl class="menu-dl">
                            <dt>手机维修：</dt>
                            <dd><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a></dd>
                        </dl>
                    </div>
                </div>
            </div>

            <div class="inner-box">
                <div class="sub-inner-box ">
                    <h2 class="title">手机配件3</h2>
                    <div class="menu-row">
                        <dl class="menu-dl">
                            <dt>手机配件：</dt>
                            <dd>这想法水电费</dd>
                        </dl>
                        <dl class="menu-dl">
                            <dt>手机维修：</dt>
                            <dd><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a></dd>
                        </dl>
                    </div>
                </div>
            </div>

            <div class="inner-box">
                <div class="sub-inner-box ">
                    <h2 class="title">手机配件4</h2>
                    <div class="menu-row">
                        <dl class="menu-dl">
                            <dt>手机配件：</dt>
                            <dd>这想法水电费</dd>
                        </dl>
                        <dl class="menu-dl">
                            <dt>手机维修：</dt>
                            <dd><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a><a>配件</a></dd>
                        </dl>
                    </div>
                </div>
            </div>

        </div>

        <div class="menu menu-content" id="menu-content">
            <div class="menu-item"><a href=""><span>手机配件1</span><i class="fa fa-angle-right"></i></a></div>
            <div class="menu-item"><a href=""><span>手机配件2</span><i class="fa fa-angle-right"></i></a></div>
            <div class="menu-item"><a href=""><span>手机配件3</span><i class="fa fa-angle-right"></i></a></div>
            <div class="menu-item"><a href=""><span>手机配件4</span><i class="fa fa-angle-right"></i></a></div>
        </div>

        <div class="banner-slide slide1 select-active"></div>
        <div class="banner" id="banner">
            <a href="#">
                <div class="banner-slide slide1"></div>
            </a>
            <a href="#">
                <div class="banner-slide slide2"></div>
            </a>
            <a href="#">
                <div class="banner-slide slide3"></div>
            </a>
        </div>

        <a href="javascript:;" id="prev" class="btn prev">上一张</a>
        <a href="javascript:;" id="next" class="btn next">下一张</a>

        <div id="dots" class="dots">
            <span class="active"></span>
            <span></span>
            <span></span>
        </div>

    </div>

    <script type="text/javascript">

        // 封装getElementById
        function byId (id) {
         return  typeof(id) === 'string' ? document.getElementById(id) : id;
        }

        function getByClass( oParent ,className) {

            var aEle = oParent.getElementsByTagName("*");
            var arr = [];
            for (var i=0; i<aEle.length; i++) {
                if (aEle[i].className == className) {
                    arr.push(aEle[i]);
                }
            }
            return arr;
        }


        var index = 0,
            timer = null,
            pics = byId("banner").getElementsByTagName("div"),
            len = pics.length,
            prev = byId("prev"),
            next = byId("next"),
            dots = byId("dots").getElementsByTagName("span"),
            current = 0,
            menu = byId("menu-content"),
            subMenu = byId("sub-menu"),
            innerBox = getByClass( subMenu , "inner-box"),
            menus = getByClass( menu , "menu-item");




        function slideImg () {
            console.log(innerBox.length);
            var oMain = byId("main");
            oMain.onmouseover = function () {
                prev.style.display = "block";
                next.style.display = "block";

                clearInterval(timer);
            };

            oMain.onmouseout = function () {
                prev.style.display = "none";
                next.style.display = "none";
                timer = setInterval( function () {
                    index ++ ;
                   if (index >= len ) {
                        index = 0;
                   }
                   changImg (index) ;
                }, 2000 );
            };

            // 自动触发轮播 相当于执行了上边的oMain.onmouseout 事件
            oMain.onmouseout ();

            // 点击远点切换图片
            for (var d=0; d< dots.length; d++) {
                // 给所有小圆点添加一个id属性，属性职位d;
                dots[d].id = d;
                dots[d].onclick = function () {
                // 改变当前的index值
                    index = this.id;
                    // 调用图片切换的方法
                    changImg();
                }
            }

            prev.onclick = function () {
                index--;
                if (index < 0) {
                    index = len-1 ;
                }
                changImg ();
            };

            next.onclick = function () {

                index ++ ;
                if (index >= len) {
                    index = 0 ;
                }
                changImg ();
            }

            for (var m=0; m<menus.length; m++ ) {
                menus[m].setAttribute("data-index" , m);
                menus[m].onmouseover = function () {
                    subMenu.className = "sub-menu";
                    var idx = this.getAttribute("data-index");
                    for (var j =0 ;j < innerBox.length ; j++) {
                        innerBox[j].style.display = "none";
                        menus[j].style.background = "none";
                    }

                    innerBox[idx].style.display = "block";
                    menus[idx].style.background = "rgba(0,0,0,0.2)";
                };
            }


            menu.onmouseout = function () {
                subMenu.className = "sub-menu none";
            };

            subMenu.onmouseover = function () {
                subMenu.className = "sub-menu";
            };

            subMenu.onmouseout = function () {
                subMenu.className = "sub-menu none";
            };

        }

        function  changImg() {
            pics[index].style.display = "block";
            pics[current].style.display = "none";
            dots[index].className = "active";
            dots[current].className = "";
            current = index;
        }

        slideImg()
    </script>
</body>
</html>